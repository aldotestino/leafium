function addressShortener(address: string) {
  return `${address.slice(0, 6)}...${address.slice(address.length - 4)}`;
}

const MIN_ZOOM = 0.78;
const MAX_ZOOM = 22;
const MIN_MARKER_DIM = 20;
const MAX_MARKER_DIM = 200;

const DEFAULT_ZOOM = 10;

function normalizeMarkerDim(zoom: number) {
  return (zoom - MIN_ZOOM) / (MAX_ZOOM - MIN_ZOOM) * (MAX_MARKER_DIM - MIN_MARKER_DIM) + MIN_MARKER_DIM;
}

const adjs = [
  'adorable',
  'adventurous',
  'aggressive',
  'alert',
  'attractive',
  'average',
  'beautiful',
  'blue-eyed',
  'bloody',
  'blushing',
  'bright',
  'clean',
  'clear',
  'cloudy',
  'colorful',
  'crowded',
  'cute',
  'dark',
  'drab',
  'distinct',
  'dull',
  'elegant',
  'excited',
  'fancy',
  'filthy',
  'glamorous',
  'gleaming',
  'gorgeous',
  'graceful',
  'grotesque',
  'handsome',
  'homely',
  'light',
  'long',
  'magnificent',
  'misty',
  'motionless',
  'muddy',
  'old-fashioned',
  'plain',
  'poised',
  'precious',
  'quaint',
  'shiny',
  'smoggy',
  'sparkling',
  'spotless',
  'stormy',
  'strange',
  'ugly',
  'ugliest',
  'unsightly',
  'unusual',
  'wide-eyed',
  'alive',
  'annoying',
  'bad',
  'better',
  'beautiful',
  'brainy',
  'breakable',
  'busy',
  'careful',
  'cautious',
  'clever',
  'clumsy',
  'concerned',
  'crazy',
  'curious',
  'dead',
  'different',
  'difficult',
  'doubtful',
  'easy',
  'expensive',
  'famous',
  'fragile',
  'frail',
  'gifted',
  'helpful',
  'helpless',
  'horrible',
  'important',
  'impossible',
  'inexpensive',
  'innocent',
  'inquisitive',
  'modern',
  'mushy',
  'odd',
  'open',
  'outstanding',
  'poor',
  'powerful',
  'prickly',
  'puzzled',
  'real',
  'rich',
  'shy',
  'sleepy',
  'stupid',
  'super',
  'talented',
  'tame',
  'tender',
  'tough',
  'uninterested',
  'vast',
  'wandering',
  'wild',
  'wrong',
  'agreeable',
  'amused',
  'brave',
  'calm',
  'charming',
  'cheerful',
  'comfortable',
  'cooperative',
  'courageous',
  'delightful',
  'determined',
  'eager',
  'elated',
  'enchanting',
  'encouraging',
  'energetic',
  'enthusiastic',
  'excited',
  'exuberant',
  'fair',
  'faithful',
  'fantastic',
  'fine',
  'friendly',
  'funny',
  'gentle',
  'glorious',
  'good',
  'happy',
  'healthy',
  'helpful',
  'hilarious',
  'jolly',
  'joyous',
  'kind',
  'lively',
  'lovely',
  'lucky',
  'nice',
  'obedient',
  'perfect',
  'pleasant',
  'proud',
  'relieved',
  'silly',
  'smiling',
  'splendid',
  'successful',
  'thankful',
  'thoughtful',
  'victorious',
  'vivacious',
  'witty',
  'wonderful',
  'zealous',
  'zany'
];

const animals = [
  'aardvark',
  'albatross',
  'alligator',
  'alpaca',
  'ant',
  'anteater',
  'antelope',
  'ape',
  'armadillo',
  'herd',
  'baboon',
  'badger',
  'barracuda',
  'bat',
  'bear',
  'beaver',
  'bee',
  'bison',
  'boar',
  'galago',
  'butterfly',
  'camel',
  'caribou',
  'cat',
  'caterpillar',
  'cattle',
  'chamois',
  'cheetah',
  'chicken',
  'chimpanzee',
  'chinchilla',
  'chough',
  'clam',
  'cobra',
  'cockroach',
  'cod',
  'cormorant',
  'coyote',
  'crab',
  'herd',
  'crocodile',
  'crow',
  'curlew',
  'deer',
  'dinosaur',
  'dog',
  'dolphin',
  'donkey',
  'dotterel',
  'dove',
  'dragonfly',
  'duck',
  'dugong',
  'dunlin',
  'eagle',
  'echidna',
  'eel',
  'elephant',
  'elk',
  'emu',
  'falcon',
  'ferret',
  'finch',
  'fish',
  'flamingo',
  'fly',
  'fox',
  'frog',
  'gaur',
  'gazelle',
  'gerbil',
  'giraffe',
  'gnat',
  'goat',
  'goose',
  'goldfish',
  'gorilla',
  'goshawk',
  'grasshopper',
  'grouse',
  'guanaco',
  'poultry',
  'herd',
  'gull',
  'hamster',
  'hare',
  'hawk',
  'hedgehog',
  'heron',
  'herring',
  'hippopotamus',
  'hornet',
  'horse',
  'human',
  'hummingbird',
  'hyena',
  'jackal',
  'jaguar',
  'jay',
  'jellyfish',
  'kangaroo',
  'koala',
  'kouprey',
  'kudu',
  'lapwing',
  'lark',
  'lemur',
  'leopard',
  'lion',
  'llama',
  'lobster',
  'locust',
  'loris',
  'louse',
  'lyrebird',
  'magpie',
  'mallard',
  'manatee',
  'marten',
  'meerkat',
  'mink',
  'monkey',
  'moose',
  'mouse',
  'mosquito',
  'mule',
  'narwhal',
  'newt',
  'nightingale',
  'octopus',
  'okapi',
  'opossum',
  'oryx',
  'ostrich',
  'otter',
  'owl',
  'ox',
  'oyster',
  'parrot',
  'partridge',
  'peafowl',
  'pelican',
  'penguin',
  'pheasant',
  'pig',
  'pigeon',
  'pony',
  'porcupine',
  'porpoise',
  'quail',
  'quelea',
  'rabbit',
  'raccoon',
  'rat',
  'raven',
  'herd',
  'reindeer',
  'rhinoceros',
  'ruff',
  'salamander',
  'salmon',
  'sandpiper',
  'sardine',
  'scorpion',
  'herd',
  'seahorse',
  'shark',
  'sheep',
  'shrew',
  'shrimp',
  'skunk',
  'snail',
  'snake',
  'spider',
  'squid',
  'squirrel',
  'starling',
  'stingray',
  'stinkbug',
  'stork',
  'swallow',
  'swan',
  'tapir',
  'tarsier',
  'termite',
  'tiger',
  'toad',
  'trout',
  'poultry',
  'turtle',
  'vulture',
  'wallaby',
  'walrus',
  'wasp',
  'carabeef',
  'weasel',
  'whale',
  'wolf',
  'wolverine',
  'wombat',
  'woodcock',
  'woodpecker',
  'worm',
  'wren',
  'yak',
  'zebra'
];

function generateRandomName() {
  return `${adjs[Math.floor(Math.random() * adjs.length)]} ${animals[Math.floor(Math.random() * animals.length)]}`;
}

function isTx(obj: unknown): obj is { hash: string, wait: (blocks: number) => void } {
  return (
    typeof obj === 'object' && obj !== null && 'hash' in obj && 'wait' in obj
  );
}

function isOffline(updatedAt: number) {
  return ((Math.round(Date.now() / 1000) - updatedAt) > 5 * 60) || updatedAt === 0;
}

export {
  addressShortener,
  normalizeMarkerDim,
  generateRandomName,
  isTx,
  isOffline,
  DEFAULT_ZOOM
};